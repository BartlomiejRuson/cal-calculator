import Head from 'next/head'
import { useState } from 'react';


export default function Home() {

  const [ingr,setIngr] = useState("");
  const [dish,setDish] = useState("");

  const handleSubmit = (e) =>{
    e.preventDefault();
    console.log(dish)
    const options = {
      method: 'GET',
      headers: {
        'X-RapidAPI-Host': 'edamam-food-and-grocery-database.p.rapidapi.com',
        'X-RapidAPI-Key': 'ed891157f5mshc9042211f64f080p1bbbf9jsnedd6101045bb'
      }
    };
    
    fetch('https://edamam-food-and-grocery-database.p.rapidapi.com/parser?ingr='+ingr, options)
      .then(response => response.json())
      .then(response => console.log(response.parsed[0].food.nutrients.ENERC_KCAL))
      .catch(err => console.error(err));
  }
  return (
    <div>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
    <nav>nav</nav>
    <main>
      <div>breatfast</div>
      <div>lunch</div>
      <div>dinner</div>
      <div>snacks</div>
    </main>
    <form onSubmit={handleSubmit}>
      <h3>Add something</h3>
      <label htmlFor="food">Food</label>
      <input type="text" name="food" id="food" onChange={e=>setIngr(e.target.value)}/>
      {/*  */}
      <input type="radio" name="dish" id="Breakfast" value="breakfast" onChange={e=>{setDish(e.target.value)}}/>
      <label htmlFor="breakfast">Breakfast</label>
      <input type="radio" name="dish" id="Lunch" value="lunch" onChange={e=>{setDish(e.target.value)}}/>
      <label htmlFor="Lunch">Lunch</label>
      <input type="radio" name="dish" id="Dinner" value="dinner" onChange={e=>{setDish(e.target.value)}}/>
      <label htmlFor="Dinner">Dinner</label>
      <input type="radio" name="dish" id="Snacks" value="snacks" onChange={e=>{setDish(e.target.value)}}/>
      <label htmlFor="Snacks">Snacks</label>

      <button type="submit">submit</button>
    </form>
    </div>
  )
}
